---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: localhost:8080
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: http://localhost:8080/api/v4/personal_access_tokens/self
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 217
        uncompressed: false
        body: '{"id":2,"name":"Initial token","revoked":false,"created_at":"2025-04-04T18:35:29.099Z","description":null,"scopes":["api"],"user_id":2,"last_used_at":"2025-04-04T19:59:23.279Z","active":true,"expires_at":"2026-04-03"}'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Connection:
                - keep-alive
            Content-Length:
                - "217"
            Content-Type:
                - application/json
            Date:
                - Fri, 04 Apr 2025 19:59:28 GMT
            Etag:
                - W/"f1ca1b8728f81976248a4c4e3ec85697"
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Server:
                - nginx
            Strict-Transport-Security:
                - max-age=63072000
            Vary:
                - Origin
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"01JR1663S6PTG09E665RMM8CAE","version":"1"}'
            X-Request-Id:
                - 01JR1663S6PTG09E665RMM8CAE
            X-Runtime:
                - "0.010357"
        status: 200 OK
        code: 200
        duration: 12.763541ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: localhost:8080
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: http://localhost:8080/api/v4/metadata
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 236
        uncompressed: false
        body: '{"version":"17.10.3","revision":"22d4014a923","kas":{"enabled":true,"externalUrl":"ws://dce56ec495e2/-/kubernetes-agent/","externalK8sProxyUrl":"http://dce56ec495e2/-/kubernetes-agent/k8s-proxy/","version":"17.10.3"},"enterprise":false}'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Connection:
                - keep-alive
            Content-Length:
                - "236"
            Content-Type:
                - application/json
            Date:
                - Fri, 04 Apr 2025 19:59:28 GMT
            Etag:
                - W/"c7db13e569c99229215906145ea2e48a"
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Server:
                - nginx
            Strict-Transport-Security:
                - max-age=63072000
            Vary:
                - Origin
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"01JR1663T180W3SA5HBJCMQ9KQ","version":"1"}'
            X-Request-Id:
                - 01JR1663T180W3SA5HBJCMQ9KQ
            X-Runtime:
                - "0.013448"
        status: 200 OK
        code: 200
        duration: 15.497292ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: localhost:8080
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: http://localhost:8080/api/v4/groups?search=example
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding:
            - chunked
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '[{"id":4,"web_url":"http://dce56ec495e2/groups/example","name":"example","path":"example","description":"An example group","visibility":"private","share_with_group_lock":false,"require_two_factor_authentication":false,"two_factor_grace_period":48,"project_creation_level":"developer","auto_devops_enabled":null,"subgroup_creation_level":"maintainer","emails_disabled":false,"emails_enabled":true,"mentions_disabled":null,"lfs_enabled":true,"math_rendering_limits_enabled":true,"lock_math_rendering_limits_enabled":false,"default_branch":null,"default_branch_protection":2,"default_branch_protection_defaults":{"allowed_to_push":[{"access_level":40}],"allow_force_push":false,"allowed_to_merge":[{"access_level":40}],"developer_can_initial_push":false},"avatar_url":null,"request_access_enabled":true,"full_name":"example","full_path":"example","created_at":"2025-04-04T18:35:29.022Z","parent_id":null,"organization_id":1,"shared_runners_setting":"enabled","max_artifacts_size":null}]'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Connection:
                - keep-alive
            Content-Type:
                - application/json
            Date:
                - Fri, 04 Apr 2025 19:59:28 GMT
            Etag:
                - W/"cb2883c92a2c8cce08dfe6f3478e213a"
            Link:
                - <http://dce56ec495e2/api/v4/groups?order_by=name&owned=false&page=1&per_page=20&search=example&sort=asc&statistics=false&with_custom_attributes=false>; rel="first", <http://dce56ec495e2/api/v4/groups?order_by=name&owned=false&page=1&per_page=20&search=example&sort=asc&statistics=false&with_custom_attributes=false>; rel="last"
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Server:
                - nginx
            Strict-Transport-Security:
                - max-age=63072000
            Vary:
                - Accept-Encoding
                - Origin
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"01JR1663V5FYDX8B9GQQH150F2","version":"1"}'
            X-Next-Page:
                - ""
            X-Page:
                - "1"
            X-Per-Page:
                - "20"
            X-Prev-Page:
                - ""
            X-Request-Id:
                - 01JR1663V5FYDX8B9GQQH150F2
            X-Runtime:
                - "0.055499"
            X-Total:
                - "1"
            X-Total-Pages:
                - "1"
        status: 200 OK
        code: 200
        duration: 91.7085ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 88
        transfer_encoding: []
        trailer: {}
        host: localhost:8080
        remote_addr: ""
        request_uri: ""
        body: '{"name":"group-deploy","expires_at":"2025-04-10T00:00:00Z","scopes":["read_repository"]}'
        form: {}
        headers:
            Accept:
                - application/json
            Content-Type:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: http://localhost:8080/api/v4/groups/4/deploy_tokens
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 202
        uncompressed: false
        body: '{"id":1,"name":"group-deploy","username":"gitlab+deploy-token-1","expires_at":"2025-04-10T00:00:00.000Z","scopes":["read_repository"],"revoked":false,"expired":false,"token":"gldt-84u-eNk637FfihcJ_whD"}'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Connection:
                - keep-alive
            Content-Length:
                - "202"
            Content-Type:
                - application/json
            Date:
                - Fri, 04 Apr 2025 19:59:28 GMT
            Etag:
                - W/"800bd6dc5734187f692a5303b338d90c"
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Server:
                - nginx
            Strict-Transport-Security:
                - max-age=63072000
            Vary:
                - Origin
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"01JR16641060F0TNDCHFN4BCTN","version":"1"}'
            X-Request-Id:
                - 01JR16641060F0TNDCHFN4BCTN
            X-Runtime:
                - "0.067723"
        status: 201 Created
        code: 201
        duration: 71.035708ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: localhost:8080
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: http://localhost:8080/api/v4/groups/example/deploy_tokens
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 168
        uncompressed: false
        body: '[{"id":1,"name":"group-deploy","username":"gitlab+deploy-token-1","expires_at":"2025-04-10T00:00:00.000Z","scopes":["read_repository"],"revoked":false,"expired":false}]'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Connection:
                - keep-alive
            Content-Length:
                - "168"
            Content-Type:
                - application/json
            Date:
                - Fri, 04 Apr 2025 19:59:28 GMT
            Etag:
                - W/"d424caa138c8b42844dcdd2443b6116c"
            Link:
                - <http://dce56ec495e2/api/v4/groups/example/deploy_tokens?id=example&page=1&per_page=20>; rel="first", <http://dce56ec495e2/api/v4/groups/example/deploy_tokens?id=example&page=1&per_page=20>; rel="last"
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Server:
                - nginx
            Strict-Transport-Security:
                - max-age=63072000
            Vary:
                - Origin
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"01JR16645HWNSXBYD3P9XP55CC","version":"1"}'
            X-Next-Page:
                - ""
            X-Page:
                - "1"
            X-Per-Page:
                - "20"
            X-Prev-Page:
                - ""
            X-Request-Id:
                - 01JR16645HWNSXBYD3P9XP55CC
            X-Runtime:
                - "0.028369"
            X-Total:
                - "1"
            X-Total-Pages:
                - "1"
        status: 200 OK
        code: 200
        duration: 32.278667ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: localhost:8080
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: http://localhost:8080/api/v4/groups/4/deploy_tokens/1
        method: DELETE
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: false
        body: ""
        headers:
            Cache-Control:
                - no-cache
            Connection:
                - keep-alive
            Date:
                - Fri, 04 Apr 2025 19:59:29 GMT
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Server:
                - nginx
            Strict-Transport-Security:
                - max-age=63072000
            Vary:
                - Origin
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"01JR16647M9RPA811G7P2TQ03R","version":"1"}'
            X-Request-Id:
                - 01JR16647M9RPA811G7P2TQ03R
            X-Runtime:
                - "0.107634"
        status: 204 No Content
        code: 204
        duration: 110.794208ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: localhost:8080
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: http://localhost:8080/api/v4/groups/example/deploy_tokens
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 2
        uncompressed: false
        body: '[]'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Connection:
                - keep-alive
            Content-Length:
                - "2"
            Content-Type:
                - application/json
            Date:
                - Fri, 04 Apr 2025 19:59:29 GMT
            Etag:
                - W/"4f53cda18c2baa0c0354bb5f9a3ecbe5"
            Link:
                - <http://dce56ec495e2/api/v4/groups/example/deploy_tokens?id=example&page=1&per_page=20>; rel="first", <http://dce56ec495e2/api/v4/groups/example/deploy_tokens?id=example&page=1&per_page=20>; rel="last"
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Server:
                - nginx
            Strict-Transport-Security:
                - max-age=63072000
            Vary:
                - Origin
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"01JR1664EK8XR24NADDY7QWE7E","version":"1"}'
            X-Next-Page:
                - ""
            X-Page:
                - "1"
            X-Per-Page:
                - "20"
            X-Prev-Page:
                - ""
            X-Request-Id:
                - 01JR1664EK8XR24NADDY7QWE7E
            X-Runtime:
                - "0.034910"
            X-Total:
                - "0"
            X-Total-Pages:
                - "1"
        status: 200 OK
        code: 200
        duration: 38.400417ms
