---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: gitlab.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: https://gitlab.com/api/v4/personal_access_tokens/self
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":10934131,"name":"vault-plugin-test-token","revoked":false,"created_at":"2024-10-13T13:03:17.081Z","scopes":["api","read_api","read_user"],"user_id":32923,"last_used_at":"2024-10-13T13:03:28.577Z","active":true,"expires_at":"2025-10-13"}'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Cf-Cache-Status:
                - MISS
            Cf-Ray:
                - 8d1f87ab0a8fb75b-AMS
            Content-Security-Policy:
                - default-src 'none'
            Content-Type:
                - application/json
            Date:
                - Sun, 13 Oct 2024 13:03:28 GMT
            Etag:
                - W/"294188617136d6cc8b17945693da200f"
            Gitlab-Lb:
                - haproxy-main-37-lb-gprd
            Gitlab-Sv:
                - api-gke-us-east1-c
            Nel:
                - '{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}'
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Report-To:
                - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=VqkuZl76Cg7JiY7ff7SignCsDTQuZVwO5eViaPhx5%2BbcNlqtmqm%2BBYNwFOGskBm67jjH8S74rg%2FFdKmXklNuQ9ve5GZgN1Bw3ZDrWxX1G7oa0AEiIMZgAAtUGCE%3D"}],"group":"cf-nel","max_age":604800}'
            Server:
                - cloudflare
            Set-Cookie:
                - _cfuvid=SVJz4DU2cmnbq6b0TFyMEsOMdN7n6i.uSm5eQ_LAwEU-1728824608692-0.0.1.1-604800000; path=/; domain=.gitlab.com; HttpOnly; Secure; SameSite=None
            Strict-Transport-Security:
                - max-age=31536000
            Vary:
                - Origin, Accept-Encoding
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"c38547d7a5bc8900007b6e1392137f09","version":"1"}'
            X-Request-Id:
                - c38547d7a5bc8900007b6e1392137f09
            X-Runtime:
                - "0.061652"
        status: 200 OK
        code: 200
        duration: 253.662208ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: gitlab.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: https://gitlab.com/api/v4/personal_access_tokens/self
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":10934131,"name":"vault-plugin-test-token","revoked":false,"created_at":"2024-10-13T13:03:17.081Z","scopes":["api","read_api","read_user"],"user_id":32923,"last_used_at":"2024-10-13T13:03:28.577Z","active":true,"expires_at":"2025-10-13"}'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Cf-Cache-Status:
                - MISS
            Cf-Ray:
                - 8d1f87ae0e30b75b-AMS
            Content-Security-Policy:
                - default-src 'none'
            Content-Type:
                - application/json
            Date:
                - Sun, 13 Oct 2024 13:03:29 GMT
            Etag:
                - W/"294188617136d6cc8b17945693da200f"
            Gitlab-Lb:
                - haproxy-main-39-lb-gprd
            Gitlab-Sv:
                - api-gke-us-east1-b
            Nel:
                - '{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}'
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Report-To:
                - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=Upi8RPW3c7Fs715RcPDacYH3c6gHGTLhWtTNaSug3dJguYvUykj8m9mLGq60qJlei9Z1rmrAeXu8K1tB1oeowT%2F4SxA5MgXJzZAp%2BwwkBonOwpYawa5829nU3fQ%3D"}],"group":"cf-nel","max_age":604800}'
            Server:
                - cloudflare
            Set-Cookie:
                - _cfuvid=lS62hLiOKyL9SLPMzt6B7RDbTJOQeFI1xZJP1fjh90o-1728824609124-0.0.1.1-604800000; path=/; domain=.gitlab.com; HttpOnly; Secure; SameSite=None
            Strict-Transport-Security:
                - max-age=31536000
            Vary:
                - Origin, Accept-Encoding
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"733bc510aefe3e01f88e50b0e5cd63c6","version":"1"}'
            X-Request-Id:
                - 733bc510aefe3e01f88e50b0e5cd63c6
            X-Runtime:
                - "0.026855"
        status: 200 OK
        code: 200
        duration: 175.366208ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: gitlab.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: https://gitlab.com/api/v4/users/32923
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":32923,"username":"ilijamt","name":"Ilija Matoski","state":"active","locked":false,"avatar_url":"https://secure.gravatar.com/avatar/e1bd6bdeae5b3bcd803934a067f39933dd21f9da7974c8e3623ee21ece5fea61?s=80\u0026d=identicon","web_url":"https://gitlab.com/ilijamt","created_at":"2014-05-19T14:51:54.441Z","bio":"","location":"","public_email":"","skype":"","linkedin":"","twitter":"","discord":"","website_url":"","organization":"","job_title":"","pronouns":null,"bot":false,"work_information":null,"local_time":"1:03 PM"}'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Cf-Cache-Status:
                - MISS
            Cf-Ray:
                - 8d1f87b038adb75b-AMS
            Content-Security-Policy:
                - default-src 'none'
            Content-Type:
                - application/json
            Date:
                - Sun, 13 Oct 2024 13:03:29 GMT
            Etag:
                - W/"b6346ba117fc3b24678689c5133788c8"
            Gitlab-Lb:
                - haproxy-main-18-lb-gprd
            Gitlab-Sv:
                - api-gke-us-east1-b
            Nel:
                - '{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}'
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Report-To:
                - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=kxk6NWDLHAlAiLO1FN59VF4F%2Bq711B0tXj%2BLYlmTdru7fzhByT%2FnrA6Gx1OhTrhhdrE6Jamxneo5llf2ZTEWwGfz3hq97OSNqjoPz1sOhWnXghJosE%2FrlLwzCWk%3D"}],"group":"cf-nel","max_age":604800}'
            Server:
                - cloudflare
            Set-Cookie:
                - _cfuvid=z4k7fwbRiDnlvAkU6aZFjScA.lqHc6TlQov0br8OWk0-1728824609493-0.0.1.1-604800000; path=/; domain=.gitlab.com; HttpOnly; Secure; SameSite=None
            Strict-Transport-Security:
                - max-age=31536000
            Vary:
                - Origin, Accept-Encoding
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"c76be0e9529736c4302ea28a308dad49","version":"1"}'
            X-Request-Id:
                - c76be0e9529736c4302ea28a308dad49
            X-Runtime:
                - "0.044967"
        status: 200 OK
        code: 200
        duration: 191.475458ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 27
        transfer_encoding: []
        trailer: {}
        host: gitlab.com
        remote_addr: ""
        request_uri: ""
        body: '{"expires_at":"2025-08-12"}'
        form: {}
        headers:
            Accept:
                - application/json
            Content-Type:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: https://gitlab.com/api/v4/personal_access_tokens/10934131/rotate
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":10934133,"name":"vault-plugin-test-token","revoked":false,"created_at":"2024-10-13T13:03:29.810Z","scopes":["api","read_api","read_user"],"user_id":32923,"last_used_at":null,"active":true,"expires_at":"2025-08-12","token":"glpat-U4jnJZhSVRhDh5Wds61K"}'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Cf-Cache-Status:
                - DYNAMIC
            Cf-Ray:
                - 8d1f87b29af7b75b-AMS
            Content-Security-Policy:
                - default-src 'none'
            Content-Type:
                - application/json
            Date:
                - Sun, 13 Oct 2024 13:03:29 GMT
            Etag:
                - W/"4a42d9b3ba1fbf3b7d1b3f5fe364e001"
            Gitlab-Lb:
                - haproxy-main-26-lb-gprd
            Gitlab-Sv:
                - api-gke-us-east1-d
            Nel:
                - '{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}'
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Report-To:
                - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=NecTlXBiQkTSVAsyvgtCJXPc5O9zwSLaMdIhfoX1XTSVPsHYt4dZ0ynygTe7d0W04R2aDMXVEk5mKALd5urwwC9vBqlKvOODjBbiKLo6yjnPgjxTC2xTR%2BRTGgg%3D"}],"group":"cf-nel","max_age":604800}'
            Server:
                - cloudflare
            Set-Cookie:
                - _cfuvid=IIL9zypjHdv79e67ehqXdJCgDiAGNvDaEi9dNVQfiDs-1728824609878-0.0.1.1-604800000; path=/; domain=.gitlab.com; HttpOnly; Secure; SameSite=None
            Strict-Transport-Security:
                - max-age=31536000
            Vary:
                - Origin
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"f5213fdce404a3c89baeb6659f65e6fc","version":"1"}'
            X-Request-Id:
                - f5213fdce404a3c89baeb6659f65e6fc
            X-Runtime:
                - "0.059880"
        status: 200 OK
        code: 200
        duration: 289.986208ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: gitlab.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: https://gitlab.com/api/v4/personal_access_tokens/self
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 106
        uncompressed: false
        body: '{"error":"invalid_token","error_description":"Token was revoked. You have to re-authorize from the user."}'
        headers:
            Cache-Control:
                - no-cache
            Cf-Cache-Status:
                - MISS
            Cf-Ray:
                - 8d1f87b64ee6b75b-AMS
            Content-Length:
                - "106"
            Content-Security-Policy:
                - default-src 'none'
            Content-Type:
                - application/json
            Date:
                - Sun, 13 Oct 2024 13:03:30 GMT
            Gitlab-Lb:
                - haproxy-main-03-lb-gprd
            Gitlab-Sv:
                - gke-cny-api
            Nel:
                - '{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}'
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Report-To:
                - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=JT3vmyAsDVstLjbrsgNiYdlWysAcJ2AKqeSueC14lCbwxGn9dameSAX3qfpXLPJZACESDxdejyTvdRJKbQ6FnxXzBxmaO0xmndTHxew%2FfD6Hsr%2Fd3Jrz3imBcPo%3D"}],"group":"cf-nel","max_age":604800}'
            Server:
                - cloudflare
            Set-Cookie:
                - _cfuvid=8nyNdxOgaNoXfNX7JiloLSAZtjfDjJx.WNG_49MjtWQ-1728824610450-0.0.1.1-604800000; path=/; domain=.gitlab.com; HttpOnly; Secure; SameSite=None
            Strict-Transport-Security:
                - max-age=31536000
            Vary:
                - Origin, Accept-Encoding
            Www-Authenticate:
                - Bearer realm="Protected by OAuth 2.0", error="invalid_token", error_description="Token was revoked. You have to re-authorize from the user."
            X-Content-Type-Options:
                - nosniff
            X-Gitlab-Meta:
                - '{"correlation_id":"c0a1de67f91eba8469438702599c7e3e","version":"1"}'
            X-Request-Id:
                - c0a1de67f91eba8469438702599c7e3e
            X-Runtime:
                - "0.025753"
        status: 401 Unauthorized
        code: 401
        duration: 182.314291ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: gitlab.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept:
                - application/json
            Private-Token:
                - REPLACED-TOKEN
            User-Agent:
                - go-gitlab
        url: https://gitlab.com/api/v4/personal_access_tokens/self
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: -1
        uncompressed: true
        body: '{"id":10934133,"name":"vault-plugin-test-token","revoked":false,"created_at":"2024-10-13T13:03:29.810Z","scopes":["api","read_api","read_user"],"user_id":32923,"last_used_at":"2024-10-13T13:03:30.730Z","active":true,"expires_at":"2025-08-12"}'
        headers:
            Cache-Control:
                - max-age=0, private, must-revalidate
            Cf-Cache-Status:
                - MISS
            Cf-Ray:
                - 8d1f87b88968b75b-AMS
            Content-Security-Policy:
                - default-src 'none'
            Content-Type:
                - application/json
            Date:
                - Sun, 13 Oct 2024 13:03:30 GMT
            Etag:
                - W/"f1cc242435df9abc7a638aa79617ce2c"
            Gitlab-Lb:
                - haproxy-main-54-lb-gprd
            Gitlab-Sv:
                - api-gke-us-east1-b
            Nel:
                - '{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}'
            Referrer-Policy:
                - strict-origin-when-cross-origin
            Report-To:
                - '{"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=%2B5tVE1qoeelpgXD%2FMwcdGr6Gnn6G6HeE0VrKTHRmqmSdmwHAAqELFZ9JxcEGbFW3PnIXQbQvxnxMZSCp13pp7C0DERyizVBvqSAGZyMCVXmCDBRnZ1I1erE85nI%3D"}],"group":"cf-nel","max_age":604800}'
            Server:
                - cloudflare
            Set-Cookie:
                - _cfuvid=EQ.WTAKxXELG8XOv6FkApktrWeAWtCQqws5O4a01nmA-1728824610853-0.0.1.1-604800000; path=/; domain=.gitlab.com; HttpOnly; Secure; SameSite=None
            Strict-Transport-Security:
                - max-age=31536000
            Vary:
                - Origin, Accept-Encoding
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - SAMEORIGIN
            X-Gitlab-Meta:
                - '{"correlation_id":"3ec87510acb5422dfd941746205bfcc6","version":"1"}'
            X-Request-Id:
                - 3ec87510acb5422dfd941746205bfcc6
            X-Runtime:
                - "0.071831"
        status: 200 OK
        code: 200
        duration: 263.659416ms
